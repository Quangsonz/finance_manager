#  Personal Finance Manager

**Personal Finance Manager** lÃ  á»©ng dá»¥ng web toÃ n diá»‡n giÃºp báº¡n quáº£n lÃ½ tÃ i chÃ­nh cÃ¡ nhÃ¢n má»™t cÃ¡ch hiá»‡n Ä‘áº¡i, trá»±c quan vÃ  báº£o máº­t. Dá»± Ã¡n há»— trá»£ quáº£n lÃ½ thu chi, Ä‘áº·t má»¥c tiÃªu tiáº¿t kiá»‡m, kiá»ƒm soÃ¡t ngÃ¢n sÃ¡ch theo thá»i gian thá»±c, giao dá»‹ch Ä‘á»‹nh ká»³ tá»± Ä‘á»™ng, thá»‘ng kÃª chi tiáº¿t báº±ng biá»ƒu Ä‘á»“, vÃ  nhiá»u tÃ­nh nÄƒng tiá»‡n Ã­ch khÃ¡c.

---

##  TÃ­nh nÄƒng ná»•i báº­t

###  Quáº£n lÃ½ giao dá»‹ch
-  ThÃªm, sá»­a, xÃ³a giao dá»‹ch thu/chi
-  PhÃ¢n loáº¡i theo danh má»¥c tÃ¹y chá»‰nh (icon, mÃ u sáº¯c)
-  Lá»c giao dá»‹ch theo loáº¡i, danh má»¥c, khoáº£ng thá»i gian, sá»‘ tiá»n
-  TÃ¬m kiáº¿m giao dá»‹ch theo tá»« khÃ³a
-  PhÃ¢n trang danh sÃ¡ch giao dá»‹ch
-  Xuáº¥t bÃ¡o cÃ¡o PDF/Excel

###  Quáº£n lÃ½ ngÃ¢n sÃ¡ch
-  Thiáº¿t láº­p ngÃ¢n sÃ¡ch theo danh má»¥c hoáº·c tá»•ng thá»ƒ
-  Theo dÃµi ngÃ¢n sÃ¡ch theo chu ká»³ (hÃ ng tuáº§n, thÃ¡ng, nÄƒm)
-  Cáº£nh bÃ¡o tá»± Ä‘á»™ng khi vÆ°á»£t ngÆ°á»¡ng (80%, 100%)
-  Hiá»ƒn thá»‹ tiáº¿n Ä‘á»™ chi tiÃªu báº±ng biá»ƒu Ä‘á»“ trÃ²n
-  Thá»‘ng kÃª sá»‘ dÆ° cÃ²n láº¡i

###  Má»¥c tiÃªu tÃ i chÃ­nh
-  Äáº·t má»¥c tiÃªu tiáº¿t kiá»‡m vá»›i icon, mÃ u sáº¯c tÃ¹y chá»‰nh
-  Theo dÃµi tiáº¿n Ä‘á»™ Ä‘áº¡t má»¥c tiÃªu theo thá»i gian thá»±c
-  ThÃªm tiá»n vÃ o má»¥c tiÃªu dáº§n dáº§n
-  Æ¯u tiÃªn má»¥c tiÃªu (cao, trung bÃ¬nh, tháº¥p)
-  Hiá»ƒn thá»‹ sá»‘ ngÃ y cÃ²n láº¡i Ä‘áº¿n deadline
-  ThÃ´ng bÃ¡o khi hoÃ n thÃ nh má»¥c tiÃªu

###  Giao dá»‹ch Ä‘á»‹nh ká»³
-  Táº¡o giao dá»‹ch tá»± Ä‘á»™ng láº·p láº¡i (hÃ ng ngÃ y, tuáº§n, thÃ¡ng, nÄƒm)
-  Táº¡m dá»«ng/kÃ­ch hoáº¡t giao dá»‹ch Ä‘á»‹nh ká»³
-  Thá»±c hiá»‡n thá»§ cÃ´ng khi cáº§n
-  Xem danh sÃ¡ch giao dá»‹ch sáº¯p tá»›i (30 ngÃ y)
-  Theo dÃµi sá»‘ láº§n Ä‘Ã£ thá»±c hiá»‡n

###  Thá»‘ng kÃª & Biá»ƒu Ä‘á»“
-  Dashboard tá»•ng quan vá»›i AI insights
-  Thá»‘ng kÃª theo thá»i gian (hÃ´m nay, tuáº§n, thÃ¡ng, nÄƒm)
-  Biá»ƒu Ä‘á»“ cá»™t (Bar Chart) xu hÆ°á»›ng thu chi 6 thÃ¡ng
-  Biá»ƒu Ä‘á»“ trÃ²n (Pie Chart) chi tiÃªu theo danh má»¥c
-  Báº£ng xu hÆ°á»›ng tÃ i chÃ­nh vá»›i % thay Ä‘á»•i
-  Giao dá»‹ch gáº§n Ä‘Ã¢y

###  XÃ¡c thá»±c & Báº£o máº­t â­
-  **JWT Authentication**: Token-based authentication vá»›i thá»i háº¡n 7 ngÃ y
-  **Password Hashing**: MÃ£ hÃ³a máº­t kháº©u báº±ng bcryptjs (10 salt rounds)
-  **Protected Routes**: Middleware authentication báº£o vá»‡ táº¥t cáº£ API endpoints
-  **Auto Logout**: Tá»± Ä‘á»™ng Ä‘Äƒng xuáº¥t khi token háº¿t háº¡n (401 Unauthorized)
-  **Password Reset**: Há»‡ thá»‘ng quÃªn máº­t kháº©u vá»›i token háº¿t háº¡n 10 phÃºt
-  **Input Validation**: Mongoose schema validation + regex email
-  **CORS Security**: Cáº¥u hÃ¬nh CORS vá»›i origin cá»¥ thá»ƒ
-  **Error Handling**: Centralized error middleware
-  **Secure Password Storage**: Password khÃ´ng tráº£ vá» trong API response

###  Giao diá»‡n & Tráº£i nghiá»‡m
-  Dark Mode/Light Mode
-  Responsive design (mobile, tablet, desktop)
-  ThÃ´ng bÃ¡o toast (success, error, warning)
-  Loading states & skeleton screens
-  Animations & transitions mÆ°á»£t mÃ 
-  Multi-currency support (VND, USD, EUR)

---

##  CÃ´ng nghá»‡ sá»­ dá»¥ng

### Frontend
- **React 18** - ThÆ° viá»‡n UI
- **Vite** - Build tool & dev server
- **TailwindCSS** - Utility-first CSS framework
- **React Router v6** - Client-side routing
- **Axios** - HTTP client
- **React Context API** - State management
- **Recharts** - Biá»ƒu Ä‘á»“ React
- **Chart.js** - Biá»ƒu Ä‘á»“ thá»‘ng kÃª
- **React Icons** - Icon library
- **React Toastify** - ThÃ´ng bÃ¡o toast
- **jsPDF & jsPDF-AutoTable** - Xuáº¥t PDF
- **XLSX** - Xuáº¥t Excel

### Backend
- **Node.js** - JavaScript runtime
- **Express** - Web framework
- **MongoDB** - NoSQL database
- **Mongoose** - MongoDB ODM
- **JWT (jsonwebtoken)** - Authentication
- **bcryptjs** - Password hashing
- **Nodemailer** - Email service
- **cors** - Cross-origin resource sharing
- **dotenv** - Environment variables

### Kiáº¿n trÃºc
- **RESTful API** - API architecture
- **MVC Pattern** - Model-View-Controller
- **Middleware** - Authentication & error handling
- **Protected Routes** - Route guards

---

## ğŸ” Ká»¹ Thuáº­t Báº£o Máº­t (Security Implementation)

> **Táº¡i sao báº£o máº­t quan trá»ng trong á»©ng dá»¥ng tÃ i chÃ­nh?**  
> á»¨ng dá»¥ng quáº£n lÃ½ tÃ i chÃ­nh cÃ¡ nhÃ¢n chá»©a thÃ´ng tin nháº¡y cáº£m (thu nháº­p, chi tiÃªu, má»¥c tiÃªu tÃ i chÃ­nh). Viá»‡c báº£o vá»‡ dá»¯ liá»‡u ngÆ°á»i dÃ¹ng khÃ´ng chá»‰ lÃ  yÃªu cáº§u ká»¹ thuáº­t mÃ  cÃ²n lÃ  trÃ¡ch nhiá»‡m Ä‘áº¡o Ä‘á»©c vÃ  phÃ¡p lÃ½.

---

### 1. **Authentication & Authorization** 
**ğŸ¯ Má»¥c Ä‘Ã­ch:** XÃ¡c Ä‘á»‹nh danh tÃ­nh ngÆ°á»i dÃ¹ng vÃ  kiá»ƒm soÃ¡t quyá»n truy cáº­p  
**ğŸ‘¤ Lá»£i Ã­ch cho ngÆ°á»i dÃ¹ng:** Äáº£m báº£o chá»‰ chá»§ tÃ i khoáº£n má»›i xem Ä‘Æ°á»£c dá»¯ liá»‡u tÃ i chÃ­nh cá»§a mÃ¬nh  
**ğŸ”’ Báº£o vá»‡ khá»i:** Truy cáº­p trÃ¡i phÃ©p, giáº£ máº¡o danh tÃ­nh, Ä‘Ã¡nh cáº¯p dá»¯ liá»‡u
#### JWT (JSON Web Token)
```javascript
// Táº¡o token khi login/register
const generateToken = (id) => {
  return jwt.sign({ id }, process.env.JWT_SECRET, {
    expiresIn: '7d'
  });
};
```

#### Middleware Protection
```javascript
// Middleware báº£o vá»‡ route
export const protect = async (req, res, next) => {
  const token = req.headers.authorization?.split(' ')[1];
  const decoded = jwt.verify(token, process.env.JWT_SECRET);
  req.user = await User.findById(decoded.id).select('-password');
  next();
};
```

- **JWT lÃ  gÃ¬?** Token chá»©a thÃ´ng tin user Ä‘Æ°á»£c mÃ£ hÃ³a, khÃ´ng cáº§n lÆ°u session trÃªn server (stateless)
- **Táº¡i sao dÃ¹ng JWT?** Scalable, dá»… implement API cho mobile/web, khÃ´ng tá»‘n bá»™ nhá»› server
- **CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng:** 
  1. User login â†’ Server táº¡o token (chá»©a user ID + secret key)
  2. Client lÆ°u token â†’ Gá»­i kÃ¨m má»—i request (Authorization header)
  3. Server verify token â†’ Cho phÃ©p truy cáº­p náº¿u há»£p lá»‡
- **Token expire 7 ngÃ y:** CÃ¢n báº±ng giá»¯a UX (khÃ´ng pháº£i login liÃªn tá»¥c) vÃ  security (limit thá»i gian token bá»‹ Ä‘Ã¡nh cáº¯p)

---

### 2. **Password Security** 
**ğŸ¯ Má»¥c Ä‘Ã­ch:** Báº£o vá»‡ máº­t kháº©u ngÆ°á»i dÃ¹ng ngay cáº£ khi database bá»‹ hack  
**ğŸ‘¤ Lá»£i Ã­ch cho ngÆ°á»i dÃ¹ng:** Máº­t kháº©u khÃ´ng bao giá» bá»‹ lá»™ dáº¡ng plain text, ká»ƒ cáº£ admin khÃ´ng thá»ƒ xem  
**ğŸ”’ Báº£o vá»‡ khá»i:** Database breach, inside attack, password leak
#### Bcrypt Hashing
```javascript
// Tá»± Ä‘á»™ng hash password trÆ°á»›c khi lÆ°u
userSchema.pre('save', async function(next) {
  if (!this.isModified('password')) return next();
  const salt = await bcrypt.genSalt(10);
  this.password = await bcrypt.hash(this.password, salt);
});

// So sÃ¡nh password khi login
userSchema.methods.comparePassword = async function(enteredPassword) {
  return await bcrypt.compare(enteredPassword, this.password);
};
```

- **Bcrypt lÃ  gÃ¬?** Thuáº­t toÃ¡n one-way hashing (khÃ´ng thá»ƒ decrypt ngÆ°á»£c láº¡i)
- **Salt lÃ  gÃ¬?** Chuá»—i random thÃªm vÃ o password trÆ°á»›c khi hash â†’ CÃ¹ng password sáº½ cÃ³ hash khÃ¡c nhau
- **10 rounds lÃ  gÃ¬?** Sá»‘ láº§n láº·p thuáº­t toÃ¡n (cÃ ng cao cÃ ng an toÃ n nhÆ°ng cháº­m hÆ¡n), 10 rounds = cÃ¢n báº±ng tá»‘t
- **Táº¡i sao khÃ´ng dÃ¹ng MD5/SHA1?** QuÃ¡ nhanh, dá»… bá»‹ brute force. Bcrypt cháº­m hÆ¡n = an toÃ n hÆ¡n
- **select: false:** Password field khÃ´ng tráº£ vá» khi query User â†’ TrÃ¡nh lá»™ hash qua API

**ğŸ” Ká»‹ch báº£n thá»±c táº¿:**
- Káº» táº¥n cÃ´ng hack database â†’ Chá»‰ tháº¥y hash (`$2a$10$xyz...`)
- KhÃ´ng thá»ƒ dÃ¹ng hash Ä‘á»ƒ login (server so sÃ¡nh báº±ng bcrypt.compare)
- Brute force 1 password máº¥t hÃ ng nÄƒm vá»›i bcrypt

---

### 3. **Data Validation** 
**ğŸ¯ Má»¥c Ä‘Ã­ch:** Äáº£m báº£o dá»¯ liá»‡u Ä‘áº§u vÃ o há»£p lá»‡, ngÄƒn cháº·n táº¥n cÃ´ng injection  
**ğŸ‘¤ Lá»£i Ã­ch cho ngÆ°á»i dÃ¹ng:** Dá»¯ liá»‡u luÃ´n chÃ­nh xÃ¡c, trÃ¡nh lá»—i há»‡ thá»‘ng do input sai  
**ğŸ”’ Báº£o vá»‡ khá»i:** NoSQL Injection, XSS, malformed data
#### Mongoose Schema Validation
```javascript
const userSchema = new mongoose.Schema({
  email: {
    type: String,
    required: true,
    unique: true,
    lowercase: true,
    match: [/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/, 'Email khÃ´ng há»£p lá»‡']
  },
  password: {
    type: String,
    required: true,
    minlength: [6, 'Máº­t kháº©u pháº£i cÃ³ Ã­t nháº¥t 6 kÃ½ tá»±'],
    select: false // KhÃ´ng tráº£ vá» trong query
  }
});
```

- **Validation á»Ÿ Ä‘Ã¢u?** Schema level (MongoDB) + Controller level (optional vá»›i express-validator)
- **Táº¡i sao validate email format?** NgÄƒn spam accounts, Ä‘áº£m báº£o cÃ³ thá»ƒ gá»­i email reset password
- **lowercase: true:** TrÃ¡nh trÃ¹ng láº·p email (user@gmail.com = USER@gmail.com)
- **required fields:** Äáº£m báº£o khÃ´ng cÃ³ missing data trong database
- **NoSQL Injection prevention:** Mongoose tá»± Ä‘á»™ng escape special characters trong query

**ğŸ” VÃ­ dá»¥ táº¥n cÃ´ng bá»‹ cháº·n:**
```javascript
// Káº» táº¥n cÃ´ng gá»­i: { "email": { "$gt": "" }, "password": "123" }
// Mongoose validation reject â†’ KhÃ´ng thá»ƒ bypass authentication
```

---

### 4. **CORS Configuration** 
**ğŸ¯ Má»¥c Ä‘Ã­ch:** Kiá»ƒm soÃ¡t domain nÃ o Ä‘Æ°á»£c phÃ©p gá»i API  
**ğŸ‘¤ Lá»£i Ã­ch cho ngÆ°á»i dÃ¹ng:** NgÄƒn website Ä‘á»™c háº¡i Ä‘Ã¡nh cáº¯p data thÃ´ng qua browser  
**ğŸ”’ Báº£o vá»‡ khá»i:** CSRF attacks, unauthorized API access tá»« domains khÃ¡c
```javascript
app.use(cors({
  origin: process.env.CLIENT_URL || 'http://localhost:5173',
  credentials: true
}));
```

- **CORS lÃ  gÃ¬?** Cross-Origin Resource Sharing - CÆ¡ cháº¿ báº£o máº­t cá»§a browser
- **Táº¡i sao cáº§n?** Máº·c Ä‘á»‹nh browser cháº·n request tá»« domain khÃ¡c (security feature)
- **origin: CLIENT_URL:** Chá»‰ cho phÃ©p frontend chÃ­nh thá»©c gá»i API
- **credentials: true:** Cho phÃ©p gá»­i cookies/authorization headers
- **KhÃ´ng set origin:** Má»i website Ä‘á»u gá»i Ä‘Æ°á»£c API â†’ Nguy hiá»ƒm!

**ğŸ” Ká»‹ch báº£n báº£o vá»‡:**
- User Ä‘ang login trÃªn `financeapp.com`
- VÃ o website Ä‘á»™c háº¡i `evil.com` â†’ Website nÃ y TRY gá»i API `financeapp.com/api/transactions`
- Browser cháº·n request vÃ¬ `evil.com` khÃ´ng trong whitelist CORS
- Data tÃ i chÃ­nh Ä‘Æ°á»£c báº£o vá»‡

---

### 5. **Token Management (Client-side)** 
**ğŸ¯ Má»¥c Ä‘Ã­ch:** Quáº£n lÃ½ token an toÃ n trÃªn trÃ¬nh duyá»‡t, tá»± Ä‘á»™ng xá»­ lÃ½ authentication  
**ğŸ‘¤ Lá»£i Ã­ch cho ngÆ°á»i dÃ¹ng:** Tráº£i nghiá»‡m mÆ°á»£t mÃ  (auto login), tá»± Ä‘á»™ng logout khi token háº¿t háº¡n  
**ğŸ”’ Báº£o vá»‡ khá»i:** Stale token attacks, manual token handling errors
#### Axios Interceptor
```javascript
// Tá»± Ä‘á»™ng thÃªm token vÃ o má»—i request
api.interceptors.request.use((config) => {
  const token = localStorage.getItem('token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// Auto logout khi token háº¿t háº¡n
api.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      localStorage.removeItem('token');
      localStorage.removeItem('user');
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);
```

- **Axios Interceptor lÃ  gÃ¬?** Middleware cho HTTP requests (cháº¡y trÆ°á»›c/sau má»—i request)
- **Request Interceptor:** Tá»± Ä‘á»™ng thÃªm `Authorization: Bearer <token>` vÃ o header â†’ KhÃ´ng cáº§n manually á»Ÿ má»—i API call
- **Response Interceptor:** Catch 401 errors â†’ Auto logout + redirect login
- **localStorage vs Cookie:** localStorage dá»… implement hÆ¡n, nhÆ°ng httpOnly cookie an toÃ n hÆ¡n (immune to XSS)

**ğŸ”„ Flow hoáº¡t Ä‘á»™ng:**
1. User login â†’ Save token vÃ o localStorage
2. Má»i API call â†’ Interceptor tá»± Ä‘á»™ng thÃªm token vÃ o header
3. Token expired â†’ Server tráº£ 401 â†’ Interceptor clear storage + redirect login
4. User khÃ´ng cáº§n lÃ m gÃ¬, tráº£i nghiá»‡m seamless

---

### 6. **Protected Routes (Frontend)** 
**ğŸ¯ Má»¥c Ä‘Ã­ch:** NgÄƒn user chÆ°a login truy cáº­p trang protected  
**ğŸ‘¤ Lá»£i Ã­ch cho ngÆ°á»i dÃ¹ng:** LuÃ´n Ä‘Æ°á»£c Ä‘iá»u hÆ°á»›ng Ä‘Ãºng (login náº¿u chÆ°a auth)  
**ğŸ”’ Báº£o vá»‡ khá»i:** Unauthorized access, manual URL manipulation
```javascript
const PrivateRoute = () => {
  const { isAuthenticated, loading } = useAuth();
  
  if (loading) return <LoadingSpinner />;
  
  return isAuthenticated ? <Outlet /> : <Navigate to="/login" />;
};
```

- **React Router v6 pattern:** DÃ¹ng `<Outlet />` Ä‘á»ƒ render nested routes
- **isAuthenticated:** Check tá»« Context (cÃ³ user + token hay khÃ´ng)
- **Loading state:** TrÃ¡nh flash redirect khi app Ä‘ang check authentication
- **Client-side protection:** Chá»‰ lÃ  UX, váº«n cáº§n backend middleware Ä‘á»ƒ báº£o vá»‡ API

**ğŸ” Defense in Depth:**
- **Frontend Protected Routes:** UX tá»‘t, ngÄƒn user vÃ o trang khÃ´ng Ä‘Æ°á»£c phÃ©p
- **Backend Middleware:** Security tháº­t sá»±, vÃ¬ frontend cÃ³ thá»ƒ bypass
- Cáº£ 2 layers cÃ¹ng hoáº¡t Ä‘á»™ng = Secure + Good UX

---

### 7. **Error Handling** 
**ğŸ¯ Má»¥c Ä‘Ã­ch:** Xá»­ lÃ½ lá»—i táº­p trung, khÃ´ng expose sensitive information  
**ğŸ‘¤ Lá»£i Ã­ch cho ngÆ°á»i dÃ¹ng:** ThÃ´ng bÃ¡o lá»—i dá»… hiá»ƒu, khÃ´ng tháº¥y stack trace Ä‘Ã¡ng sá»£  
**ğŸ”’ Báº£o vá»‡ khá»i:** Information disclosure, debugging info leak
```javascript
// Centralized error middleware
export const errorHandler = (err, req, res, next) => {
  // Mongoose duplicate key
  if (err.code === 11000) {
    return res.status(400).json({ message: 'Email Ä‘Ã£ tá»“n táº¡i' });
  }
  
  // Mongoose validation error
  if (err.name === 'ValidationError') {
    const message = Object.values(err.errors).map(val => val.message);
    return res.status(400).json({ message });
  }
  
  res.status(500).json({ 
    message: err.message || 'Lá»—i server',
    ...(process.env.NODE_ENV === 'development' && { stack: err.stack })
  });
};
```

- **Centralized error handling:** Má»™t nÆ¡i xá»­ lÃ½ táº¥t cáº£ errors â†’ Consistent response format
- **Generic error messages:** KhÃ´ng expose database structure, code paths
- **Development vs Production:** Show stack trace trong dev Ä‘á»ƒ debug, hide trong production
- **Specific error types:** Duplicate key, validation error â†’ User-friendly messages

**ğŸ” VÃ­ dá»¥:**
```javascript
// âŒ Bad: "MongoError: E11000 duplicate key error collection: users index: email_1"
// âœ… Good: "Email Ä‘Ã£ tá»“n táº¡i"

// âŒ Bad: Show full stack trace to user
// âœ… Good: Log to server, show friendly message to user
```

---

### 8. **Password Reset Security** 
**ğŸ¯ Má»¥c Ä‘Ã­ch:** Cho phÃ©p user reset password an toÃ n khi quÃªn  
**ğŸ‘¤ Lá»£i Ã­ch cho ngÆ°á»i dÃ¹ng:** Láº¥y láº¡i tÃ i khoáº£n dá»… dÃ ng mÃ  khÃ´ng lo bá»‹ hack  
**ğŸ”’ Báº£o vá»‡ khá»i:** Brute force token, token replay attacks, account takeover
```javascript
// Táº¡o token reset password (6 sá»‘, háº¿t háº¡n sau 10 phÃºt)
userSchema.methods.createPasswordResetToken = function() {
  const resetToken = Math.floor(100000 + Math.random() * 900000).toString();
  this.resetPasswordToken = bcrypt.hashSync(resetToken, 10);
  this.resetPasswordExpire = Date.now() + 10 * 60 * 1000;
  return resetToken;
};
```

- **6-digit token:** Dá»… nháº­p (UX), Ä‘á»§ an toÃ n vá»›i timeout ngáº¯n (10 phÃºt)
- **Hash token trÆ°á»›c khi lÆ°u DB:** Ngay cáº£ token cÅ©ng khÃ´ng lÆ°u plain text
- **10 phÃºt expiration:** CÃ¢n báº±ng UX (Ä‘á»§ thá»i gian nháº­p) vs Security (limit brute force)
- **One-time use:** Token bá»‹ xÃ³a sau khi reset thÃ nh cÃ´ng

**ğŸ” Attack scenarios bá»‹ cháº·n:**
1. **Brute force:** 1,000,000 combinations / 10 phÃºt = KhÃ´ng kháº£ thi
2. **Token reuse:** Token deleted after use â†’ Cannot reuse
3. **Token theft:** Hash stored in DB â†’ KhÃ´ng thá»ƒ dÃ¹ng trá»±c tiáº¿p
4. **Old token:** Expired tokens automatically invalid

**ğŸ”„ Flow hoÃ n chá»‰nh:**
```
User quÃªn password â†’ Nháº­p email â†’ Server gá»­i 6-digit code qua email
â†’ User nháº­p code + new password â†’ Server verify (hash compare + check expire)
â†’ Update password + delete token â†’ User login vá»›i password má»›i
```

---

### ğŸ›¡ï¸ **Tá»•ng Quan Lá»£i Ãch Báº£o Máº­t**

| Ká»¹ thuáº­t | Báº£o vá»‡ ngÆ°á»i dÃ¹ng | Báº£o vá»‡ há»‡ thá»‘ng | Impact náº¿u thiáº¿u |
|----------|-------------------|-----------------|------------------|
| JWT Auth | Chá»‰ mÃ¬nh tÃ´i xem data cá»§a tÃ´i | KhÃ´ng lÆ°u session trÃªn server | Ai cÅ©ng xem Ä‘Æ°á»£c data cá»§a nhau |
| Password Hashing | Admin khÃ´ng tháº¥y password | DB leak khÃ´ng lá»™ password | Hacker cÃ³ DB = cÃ³ táº¥t cáº£ passwords |
| Protected Routes | KhÃ´ng vÃ o Ä‘Æ°á»£c trang khÃ´ng phÃ©p | Cháº·n unauthorized requests | Bypass frontend = full access |
| Input Validation | KhÃ´ng bá»‹ lá»—i do dá»¯ liá»‡u sai | NgÄƒn injection attacks | XSS, NoSQL injection thÃ nh cÃ´ng |
| CORS | Website láº¡ khÃ´ng gá»i Ä‘Æ°á»£c API | Chá»‰ frontend chÃ­nh thá»©c gá»i API | Má»i website Ä‘á»u gá»i Ä‘Æ°á»£c API |
| Error Handling | ThÃ´ng bÃ¡o lá»—i dá»… hiá»ƒu | KhÃ´ng lá»™ code structure | Hacker biáº¿t cáº¥u trÃºc há»‡ thá»‘ng |
| Token Expiry | Auto logout khi token cÅ© | Limit thá»i gian token bá»‹ steal | Token Ä‘Ã¡nh cáº¯p dÃ¹ng mÃ£i mÃ£i |
| Password Reset | Láº¥y láº¡i account an toÃ n | NgÄƒn account takeover | Brute force reset token |

---

> "Trong dá»± Ã¡n finance manager, tÃ´i Ä‘Ã£ Ã¡p dá»¥ng nhiá»u layers báº£o máº­t vÃ¬ Ä‘Ã¢y lÃ  app xá»­ lÃ½ dá»¯ liá»‡u tÃ i chÃ­nh nháº¡y cáº£m:
>
> **Layer 1 - Authentication:** JWT token-based authentication Ä‘á»ƒ verify user identity. Token expire sau 7 ngÃ y Ä‘á»ƒ cÃ¢n báº±ng UX vÃ  security.
>
> **Layer 2 - Password Protection:** Bcrypt hashing vá»›i 10 salt rounds. Password khÃ´ng bao giá» lÆ°u plain text, ká»ƒ cáº£ khi DB bá»‹ hack thÃ¬ hacker cÅ©ng khÃ´ng dÃ¹ng Ä‘Æ°á»£c.
>
> **Layer 3 - Authorization:** Middleware protection trÃªn má»i protected routes. Frontend cÃ³ route guards, backend cÃ³ middleware verify token.
>
> **Layer 4 - Input Validation:** Mongoose schema validation + regex Ä‘á»ƒ ngÄƒn NoSQL injection vÃ  Ä‘áº£m báº£o data integrity.
>
> **Layer 5 - CORS & Error Handling:** CORS cháº·n unauthorized domains, error handling khÃ´ng expose sensitive info.
>
> Má»—i layer Ä‘á»u cÃ³ má»¥c Ä‘Ã­ch cá»¥ thá»ƒ vÃ  bá»• trá»£ cho nhau, táº¡o thÃ nh defense in depth strategy."

**CÃ¢u há»i: "Táº¡i sao dÃ¹ng JWT thay vÃ¬ session?"**

> "JWT phÃ¹ há»£p vá»›i RESTful API vÃ¬:
> 1. **Stateless** - Server khÃ´ng cáº§n lÆ°u session, dá»… scale horizontal
> 2. **Cross-platform** - DÃ¹ng Ä‘Æ°á»£c cho web, mobile, desktop
> 3. **Self-contained** - Token chá»©a thÃ´ng tin user, giáº£m database queries
> 4. **Decentralized** - Microservices cÃ³ thá»ƒ verify token Ä‘á»™c láº­p
>
> Trade-off lÃ  khÃ´ng thá»ƒ revoke token ngay (pháº£i Ä‘á»£i expire), nhÆ°ng vá»›i á»©ng dá»¥ng nÃ y thÃ¬ benefit > drawback."

**CÃ¢u há»i: "LÃ m sao ngÄƒn cháº·n password breach?"**

> "TÃ´i Ã¡p dá»¥ng multiple layers:
> 1. **Bcrypt hashing** - One-way, cannot reverse engineer
> 2. **Salt** - Má»—i password cÃ³ unique salt, rainbow table attacks khÃ´ng work
> 3. **select: false** - Password field khÃ´ng return qua API
> 4. **10 rounds** - Äá»§ cháº­m Ä‘á»ƒ chá»‘ng brute force nhÆ°ng khÃ´ng áº£nh hÆ°á»Ÿng UX
>
> Ngay cáº£ khi database bá»‹ leak, attacker chá»‰ tháº¥y hash. Brute force 1 password vá»›i bcrypt máº¥t hÃ ng nÄƒm vá»›i hardware thÃ´ng thÆ°á»ng."

---
- [x] **JWT token authentication** - Stateless authentication cho RESTful API
- [x] **Password hashing vá»›i bcrypt** - 10 salt rounds, one-way encryption
- [x] **Protected API routes** - Middleware verify token trÃªn má»i sensitive endpoints
- [x] **Input validation (Mongoose)** - Schema-level validation, required fields
- [x] **Email format validation** - Regex pattern matching
- [x] **CORS configuration** - Whitelist specific origin only
- [x] **Error handling middleware** - Centralized, khÃ´ng expose sensitive info
- [x] **Token expiration handling** - Auto logout sau 7 ngÃ y
- [x] **Password reset vá»›i token timeout** - 6-digit OTP, expire 10 phÃºt
- [x] **Secure password storage** - select: false trong schema
- [x] **Auto logout on 401** - Client-side interceptor
- [x] **Environment variables protection** - Sensitive data trong .env

### ğŸ“ˆ **Security Best Practices Applied**
1. âœ… **Never store plain passwords** - Sá»­ dá»¥ng bcrypt hashing
2. âœ… **Token-based authentication** - Stateless JWT cho scalability
3. âœ… **Middleware protection** - Protect sensitive routes á»Ÿ cáº£ frontend & backend
4. âœ… **Input sanitization** - Mongoose validation ngÄƒn injection attacks
5. âœ… **Error messages khÃ´ng expose sensitive info** - Generic error messages
6. âœ… **CORS properly configured** - Chá»‰ allow specific origin
7. âœ… **Token stored securely** - localStorage vá»›i auto-cleanup on 401
8. âœ… **Password reset vá»›i timeout** - NgÄƒn cháº·n brute force attacks
9. âœ… **Defense in Depth** - Multiple security layers bá»• trá»£ nhau
10. âœ… **Principle of Least Privilege** - Users chá»‰ access data cá»§a chÃ­nh mÃ¬nh

---

##  YÃªu cáº§u há»‡ thá»‘ng

- **Node.js** >= 16.x
- **MongoDB** (Local hoáº·c MongoDB Atlas)
- **npm** hoáº·c **yarn**
- **Git** (Ä‘á»ƒ clone repository)

---

##  HÆ°á»›ng dáº«n cÃ i Ä‘áº·t & cháº¡y dá»± Ã¡n

### 1. Clone repository

```powershell
git clone https://github.com/datnqbv/finance_manager.git
cd Quan_ly_chi_tieu
```

### 2. CÃ i Ä‘áº·t Backend

```powershell
cd server
npm install

# Táº¡o file .env tá»« .env.example
cp .env.example .env

# Cáº¥u hÃ¬nh file .env vá»›i thÃ´ng tin cá»§a báº¡n:
# MONGODB_URI=mongodb://localhost:27017/finance_manager
# hoáº·c MongoDB Atlas: mongodb+srv://username:password@cluster.mongodb.net/finance_manager
# JWT_SECRET=your_jwt_secret_key
# PORT=5000
# CLIENT_URL=http://localhost:5173

# Cháº¡y server
npm run dev
```

Server sáº½ cháº¡y táº¡i: **http://localhost:5000**

### 3. CÃ i Ä‘áº·t Frontend

```powershell
cd client
npm install

# Táº¡o file .env (náº¿u cáº§n)
cp .env.example .env

# File .env:
# VITE_API_URL=http://localhost:5000/api

# Cháº¡y client
npm run dev
```

Client sáº½ cháº¡y táº¡i: **http://localhost:5173**

### 4. Cáº¥u hÃ¬nh MongoDB

#### Option 1: MongoDB Local
```powershell
# CÃ i Ä‘áº·t MongoDB Community Edition
# Cháº¡y MongoDB service
mongod

# MongoDB sáº½ cháº¡y táº¡i mongodb://localhost:27017
```

#### Option 2: MongoDB Atlas (Cloud)
1. Táº¡o tÃ i khoáº£n táº¡i https://www.mongodb.com/cloud/atlas
2. Táº¡o cluster miá»…n phÃ­
3. Láº¥y connection string vÃ  thay vÃ o `MONGODB_URI` trong `.env`
4. ThÃªm IP cá»§a báº¡n vÃ o whitelist

---

##  Cáº¥u trÃºc dá»± Ã¡n

## Cáº¥u trÃºc dá»± Ã¡n (cÃ³ chÃº thÃ­ch)

```
Quan_ly_chi_tieu/
â”œâ”€â”€ server/                           # Backend (Node.js + Express)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â””â”€â”€ database.js          # Káº¿t ná»‘i vÃ  cáº¥u hÃ¬nh MongoDB cho toÃ n bá»™ backend
â”‚   â”‚   â”œâ”€â”€ controllers/             # Xá»­ lÃ½ logic nghiá»‡p vá»¥ cho tá»«ng API (gá»i model, tráº£ vá» response)
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.controller.js           # ÄÄƒng kÃ½, Ä‘Äƒng nháº­p, xÃ¡c thá»±c, profile
â”‚   â”‚   â”‚   â”œâ”€â”€ transaction.controller.js   # Quáº£n lÃ½ giao dá»‹ch thu/chi
â”‚   â”‚   â”‚   â”œâ”€â”€ category.controller.js      # Quáº£n lÃ½ danh má»¥c giao dá»‹ch
â”‚   â”‚   â”‚   â”œâ”€â”€ budget.controller.js        # Quáº£n lÃ½ ngÃ¢n sÃ¡ch
â”‚   â”‚   â”‚   â”œâ”€â”€ goal.controller.js          # Quáº£n lÃ½ má»¥c tiÃªu tÃ i chÃ­nh
â”‚   â”‚   â”‚   â”œâ”€â”€ recurring.controller.js     # Quáº£n lÃ½ giao dá»‹ch Ä‘á»‹nh ká»³
â”‚   â”‚   â”‚   â”œâ”€â”€ stats.controller.js         # Thá»‘ng kÃª tá»•ng quan, biá»ƒu Ä‘á»“
â”‚   â”‚   â”‚   â””â”€â”€ notification.controller.js  # Quáº£n lÃ½ thÃ´ng bÃ¡o (náº¿u cÃ³)
â”‚   â”‚   â”œâ”€â”€ models/                  # Äá»‹nh nghÄ©a cáº¥u trÃºc dá»¯ liá»‡u MongoDB
â”‚   â”‚   â”‚   â”œâ”€â”€ User.model.js                # ThÃ´ng tin ngÆ°á»i dÃ¹ng, avatar, máº­t kháº©u
â”‚   â”‚   â”‚   â”œâ”€â”€ Transaction.model.js         # Giao dá»‹ch thu/chi
â”‚   â”‚   â”‚   â”œâ”€â”€ Category.model.js            # Danh má»¥c giao dá»‹ch
â”‚   â”‚   â”‚   â”œâ”€â”€ Budget.model.js              # NgÃ¢n sÃ¡ch
â”‚   â”‚   â”‚   â”œâ”€â”€ Goal.model.js                # Má»¥c tiÃªu tÃ i chÃ­nh
â”‚   â”‚   â”‚   â””â”€â”€ RecurringTransaction.model.js# Giao dá»‹ch Ä‘á»‹nh ká»³
â”‚   â”‚   â”œâ”€â”€ routes/                  # Äá»‹nh nghÄ©a cÃ¡c endpoint API, liÃªn káº¿t controller
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.routes.js               # Endpoint xÃ¡c thá»±c, profile
â”‚   â”‚   â”‚   â”œâ”€â”€ transaction.routes.js        # Endpoint giao dá»‹ch
â”‚   â”‚   â”‚   â”œâ”€â”€ category.routes.js           # Endpoint danh má»¥c
â”‚   â”‚   â”‚   â”œâ”€â”€ budget.routes.js             # Endpoint ngÃ¢n sÃ¡ch
â”‚   â”‚   â”‚   â”œâ”€â”€ goal.routes.js               # Endpoint má»¥c tiÃªu
â”‚   â”‚   â”‚   â”œâ”€â”€ recurring.routes.js          # Endpoint Ä‘á»‹nh ká»³
â”‚   â”‚   â”‚   â”œâ”€â”€ stats.routes.js              # Endpoint thá»‘ng kÃª
â”‚   â”‚   â”‚   â””â”€â”€ notification.routes.js       # Endpoint thÃ´ng bÃ¡o (náº¿u cÃ³)
â”‚   â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.middleware.js           # Kiá»ƒm tra JWT, báº£o vá»‡ route
â”‚   â”‚   â”‚   â””â”€â”€ error.middleware.js          # Xá»­ lÃ½ lá»—i táº­p trung cho API
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â””â”€â”€ sendEmail.js                 # Gá»­i email (quÃªn máº­t kháº©u, thÃ´ng bÃ¡o)
â”‚   â”‚   â””â”€â”€ index.js                         # Äiá»ƒm khá»Ÿi Ä‘á»™ng server, cáº¥u hÃ¬nh Express
â”‚   â”œâ”€â”€ .env.example
â”‚   â”œâ”€â”€ .gitignore
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ client/                           # Frontend (React + Vite)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/              # CÃ¡c component giao diá»‡n dÃ¹ng láº¡i nhiá»u nÆ¡i
â”‚   â”‚   â”‚   â”œâ”€â”€ Layout.jsx                   # Khung layout chung (header, sidebar, main)
â”‚   â”‚   â”‚   â”œâ”€â”€ PrivateRoute.jsx             # Báº£o vá»‡ route, chá»‰ cho user Ä‘Ã£ Ä‘Äƒng nháº­p
â”‚   â”‚   â”‚   â”œâ”€â”€ DarkModeToggle.jsx           # Chuyá»ƒn Ä‘á»•i dark/light mode
â”‚   â”‚   â”‚   â”œâ”€â”€ GlobalSearch.jsx             # TÃ¬m kiáº¿m tá»•ng há»£p toÃ n bá»™ dá»± Ã¡n
â”‚   â”‚   â”‚   â”œâ”€â”€ Pagination.jsx               # PhÃ¢n trang danh sÃ¡ch
â”‚   â”‚   â”‚   â”œâ”€â”€ TransactionModal.jsx         # Modal thÃªm/sá»­a giao dá»‹ch
â”‚   â”‚   â”‚   â”œâ”€â”€ CategoryModal.jsx            # Modal thÃªm/sá»­a danh má»¥c
â”‚   â”‚   â”‚   â”œâ”€â”€ BudgetModal.jsx              # Modal thÃªm/sá»­a ngÃ¢n sÃ¡ch
â”‚   â”‚   â”‚   â”œâ”€â”€ GoalModal.jsx                # Modal thÃªm/sá»­a má»¥c tiÃªu
â”‚   â”‚   â”‚   â””â”€â”€ RecurringModal.jsx           # Modal thÃªm/sá»­a giao dá»‹ch Ä‘á»‹nh ká»³
â”‚   â”‚   â”œâ”€â”€ context/                 # Quáº£n lÃ½ state toÃ n cá»¥c báº±ng Context API
â”‚   â”‚   â”‚   â”œâ”€â”€ AuthContext.jsx              # Quáº£n lÃ½ tráº¡ng thÃ¡i Ä‘Äƒng nháº­p, user
â”‚   â”‚   â”‚   â”œâ”€â”€ ThemeContext.jsx             # Quáº£n lÃ½ dark/light mode
â”‚   â”‚   â”‚   â”œâ”€â”€ TransactionContext.jsx       # Quáº£n lÃ½ danh sÃ¡ch giao dá»‹ch
â”‚   â”‚   â”‚   â”œâ”€â”€ CategoryContext.jsx          # Quáº£n lÃ½ danh má»¥c
â”‚   â”‚   â”‚   â”œâ”€â”€ BudgetContext.jsx            # Quáº£n lÃ½ ngÃ¢n sÃ¡ch
â”‚   â”‚   â”‚   â”œâ”€â”€ GoalContext.jsx              # Quáº£n lÃ½ má»¥c tiÃªu
â”‚   â”‚   â”‚   â””â”€â”€ RecurringContext.jsx         # Quáº£n lÃ½ giao dá»‹ch Ä‘á»‹nh ká»³
â”‚   â”‚   â”œâ”€â”€ pages/                   # CÃ¡c trang chÃ­nh cá»§a á»©ng dá»¥ng
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx                # Trang tá»•ng quan, biá»ƒu Ä‘á»“, thá»‘ng kÃª
â”‚   â”‚   â”‚   â”œâ”€â”€ Transactions.jsx             # Trang quáº£n lÃ½ giao dá»‹ch
â”‚   â”‚   â”‚   â”œâ”€â”€ Categories.jsx               # Trang quáº£n lÃ½ danh má»¥c
â”‚   â”‚   â”‚   â”œâ”€â”€ Budgets.jsx                  # Trang quáº£n lÃ½ ngÃ¢n sÃ¡ch
â”‚   â”‚   â”‚   â”œâ”€â”€ Goals.jsx                    # Trang quáº£n lÃ½ má»¥c tiÃªu
â”‚   â”‚   â”‚   â”œâ”€â”€ RecurringTransactions.jsx    # Trang giao dá»‹ch Ä‘á»‹nh ká»³
â”‚   â”‚   â”‚   â”œâ”€â”€ Statistics.jsx               # Trang thá»‘ng kÃª chi tiáº¿t
â”‚   â”‚   â”‚   â”œâ”€â”€ Profile.jsx                  # Trang cÃ¡ nhÃ¢n, Ä‘á»•i avatar
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.jsx                    # Trang Ä‘Äƒng nháº­p
â”‚   â”‚   â”‚   â”œâ”€â”€ Register.jsx                 # Trang Ä‘Äƒng kÃ½
â”‚   â”‚   â”‚   â””â”€â”€ ForgotPassword.jsx           # Trang quÃªn máº­t kháº©u
â”‚   â”‚   â”œâ”€â”€ services/                # Giao tiáº¿p vá»›i API backend qua axios
â”‚   â”‚   â”‚   â”œâ”€â”€ api.js                       # Táº¡o instance axios, cáº¥u hÃ¬nh baseURL ,khá»Ÿi táº¡o api
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.service.js              # Gá»i API xÃ¡c thá»±c, profile
â”‚   â”‚   â”‚   â”œâ”€â”€ transaction.service.js       # Gá»i API giao dá»‹ch
â”‚   â”‚   â”‚   â”œâ”€â”€ category.service.js          # Gá»i API danh má»¥c
â”‚   â”‚   â”‚   â”œâ”€â”€ budget.service.js            # Gá»i API ngÃ¢n sÃ¡ch
â”‚   â”‚   â”‚   â”œâ”€â”€ goal.service.js              # Gá»i API má»¥c tiÃªu
â”‚   â”‚   â”‚   â”œâ”€â”€ recurring.service.js         # Gá»i API Ä‘á»‹nh ká»³
â”‚   â”‚   â”‚   â”œâ”€â”€ stats.service.js             # Gá»i API thá»‘ng kÃª
â”‚   â”‚   â”‚   â””â”€â”€ notification.service.js      # Gá»i API thÃ´ng bÃ¡o (náº¿u cÃ³)
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â””â”€â”€ exportUtils.js               # Xuáº¥t bÃ¡o cÃ¡o PDF/Excel
â”‚   â”‚   â”œâ”€â”€ App.jsx                          # Khá»Ÿi táº¡o router, context provider
â”‚   â”‚   â”œâ”€â”€ main.jsx                         # Äiá»ƒm khá»Ÿi Ä‘á»™ng React app
â”‚   â”‚   â””â”€â”€ index.css                        # File CSS gá»‘c
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ vite.config.js
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”œâ”€â”€ postcss.config.js
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ README.md                               # TÃ i liá»‡u dá»± Ã¡n, hÆ°á»›ng dáº«n sá»­ dá»¥ng
```

---

### Má»‘i liÃªn há»‡ giá»¯a cÃ¡c file/thÆ° má»¥c

- **server/src/controllers** gá»i **models** Ä‘á»ƒ thao tÃ¡c dá»¯ liá»‡u, tráº£ vá» káº¿t quáº£ cho **routes**.
- **routes** Ä‘á»‹nh nghÄ©a cÃ¡c endpoint, liÃªn káº¿t controller vá»›i URL API.
- **middleware** báº£o vá»‡ route (auth), xá»­ lÃ½ lá»—i táº­p trung (error).
- **utils/sendEmail.js** Ä‘Æ°á»£c controller gá»i khi cáº§n gá»­i email (quÃªn máº­t kháº©u, thÃ´ng bÃ¡o).
- **client/src/components** lÃ  cÃ¡c khá»‘i giao diá»‡n dÃ¹ng láº¡i á»Ÿ nhiá»u trang.
- **context** cung cáº¥p state cho cÃ¡c component vÃ  page, giÃºp chia sáº» dá»¯ liá»‡u toÃ n app.
- **pages** lÃ  cÃ¡c mÃ n hÃ¬nh chÃ­nh, má»—i page thÆ°á»ng dÃ¹ng nhiá»u component vÃ  context.
- **services** lÃ  nÆ¡i gá»i API backend, Ä‘Æ°á»£c cÃ¡c context vÃ  page sá»­ dá»¥ng Ä‘á»ƒ láº¥y/gá»­i dá»¯ liá»‡u.
- **utils/exportUtils.js** Ä‘Æ°á»£c dÃ¹ng á»Ÿ cÃ¡c page/component Ä‘á»ƒ xuáº¥t bÃ¡o cÃ¡o.
- **App.jsx/main.jsx** lÃ  Ä‘iá»ƒm khá»Ÿi Ä‘á»™ng, káº¿t ná»‘i router, context, vÃ  render layout.


-  Máº­t kháº©u Ä‘Æ°á»£c mÃ£ hÃ³a báº±ng **bcryptjs** (salt rounds: 10)
-  XÃ¡c thá»±c báº±ng **JWT token** (expires: 7 days)
-  Protected routes vá»›i middleware
- Validation dá»¯ liá»‡u Ä‘áº§u vÃ o
-  Error handling táº­p trung
-  CORS configuration
- Environment variables (.env)
-  Tá»± Ä‘á»™ng logout khi token háº¿t háº¡n (401)

---



### âœ… **Äiá»ƒm Máº¡nh Ká»¹ Thuáº­t**
1. **Full-stack MERN Development**
   - MongoDB + Express + React + Node.js
   - RESTful API design pattern
   - MVC architecture

2. **Security Implementation**
   - JWT authentication
   - Password hashing (bcrypt)
   - Protected routes & middleware
   - CORS configuration
   - Input validation

3. **Modern Frontend**
   - React 18 vá»›i Hooks & Context API
   - React Router v6 (Protected Routes)
   - Axios interceptors
   - Responsive UI (TailwindCSS)

4. **Professional Practices**
   - Git version control
   - Environment variables
   - Error handling patterns
   - Code organization (MVC)
   - API documentation


```


1. **"Báº¡n Ä‘Ã£ implement authentication nhÆ° tháº¿ nÃ o?"**
   - JWT token-based authentication
   - Bcrypt password hashing vá»›i 10 salt rounds
   - Middleware protection cho protected routes
   - Auto logout khi token expired

2. **"LÃ m sao báº¡n báº£o vá»‡ API endpoints?"**
   - Middleware `protect` verify JWT token
   - CORS configuration vá»›i origin cá»¥ thá»ƒ
   - Input validation vá»›i Mongoose schema
   - Error handling khÃ´ng expose sensitive info

3. **"Báº¡n xá»­ lÃ½ password security ra sao?"**
   - Pre-save hook hash password vá»›i bcrypt
   - Password field cÃ³ `select: false` trong schema
   - KhÃ´ng bao giá» tráº£ password trong API response
   - Password reset vá»›i token timeout 10 phÃºt

4. **"Frontend giao tiáº¿p vá»›i Backend nhÆ° tháº¿ nÃ o?"**
   - Axios instance vá»›i baseURL configuration
   - Request interceptor tá»± Ä‘á»™ng thÃªm Bearer token
   - Response interceptor handle 401 (auto logout)
   - Context API quáº£n lÃ½ authentication state

---

##  API Endpoints

### Authentication
- `POST /api/auth/register` - ÄÄƒng kÃ½
- `POST /api/auth/login` - ÄÄƒng nháº­p
- `GET /api/auth/me` - Láº¥y thÃ´ng tin user
- `PUT /api/auth/profile` - Cáº­p nháº­t profile
- `POST /api/auth/forgot-password` - QuÃªn máº­t kháº©u
- `POST /api/auth/reset-password` - Äáº·t láº¡i máº­t kháº©u

### Transactions
- `GET /api/transactions` - Láº¥y danh sÃ¡ch giao dá»‹ch
- `POST /api/transactions` - ThÃªm giao dá»‹ch
- `PUT /api/transactions/:id` - Sá»­a giao dá»‹ch
- `DELETE /api/transactions/:id` - XÃ³a giao dá»‹ch

### Categories
- `GET /api/categories` - Láº¥y danh sÃ¡ch danh má»¥c
- `POST /api/categories` - ThÃªm danh má»¥c
- `PUT /api/categories/:id` - Sá»­a danh má»¥c
- `DELETE /api/categories/:id` - XÃ³a danh má»¥c

### Budgets
- `GET /api/budgets` - Láº¥y danh sÃ¡ch ngÃ¢n sÃ¡ch
- `POST /api/budgets` - ThÃªm ngÃ¢n sÃ¡ch
- `PUT /api/budgets/:id` - Sá»­a ngÃ¢n sÃ¡ch
- `DELETE /api/budgets/:id` - XÃ³a ngÃ¢n sÃ¡ch
- `GET /api/budgets/status` - Láº¥y tráº¡ng thÃ¡i ngÃ¢n sÃ¡ch
- `GET /api/budgets/alerts` - Láº¥y cáº£nh bÃ¡o

### Goals
- `GET /api/goals` - Láº¥y danh sÃ¡ch má»¥c tiÃªu
- `POST /api/goals` - ThÃªm má»¥c tiÃªu
- `PUT /api/goals/:id` - Sá»­a má»¥c tiÃªu
- `DELETE /api/goals/:id` - XÃ³a má»¥c tiÃªu
- `POST /api/goals/:id/add-amount` - ThÃªm tiá»n vÃ o má»¥c tiÃªu
- `GET /api/goals/stats` - Thá»‘ng kÃª má»¥c tiÃªu

### Recurring Transactions
- `GET /api/recurring` - Láº¥y danh sÃ¡ch giao dá»‹ch Ä‘á»‹nh ká»³
- `POST /api/recurring` - ThÃªm giao dá»‹ch Ä‘á»‹nh ká»³
- `PUT /api/recurring/:id` - Sá»­a giao dá»‹ch Ä‘á»‹nh ká»³
- `DELETE /api/recurring/:id` - XÃ³a giao dá»‹ch Ä‘á»‹nh ká»³
- `POST /api/recurring/:id/execute` - Thá»±c hiá»‡n thá»§ cÃ´ng
- `GET /api/recurring/upcoming` - Láº¥y giao dá»‹ch sáº¯p tá»›i

### Statistics
- `GET /api/stats/summary` - Tá»•ng quan tÃ i chÃ­nh
- `GET /api/stats/monthly` - Thá»‘ng kÃª theo thÃ¡ng
- `GET /api/stats/categories` - Thá»‘ng kÃª theo danh má»¥c

---

##  Troubleshooting

### MongoDB connection error
- Kiá»ƒm tra MongoDB Ä‘Ã£ cháº¡y: `mongod`
- Kiá»ƒm tra connection string trong `.env`
- Náº¿u dÃ¹ng MongoDB Atlas, kiá»ƒm tra IP whitelist

### Port already in use
- Backend: Äá»•i `PORT` trong `.env`
- Frontend: Äá»•i port trong `vite.config.js`

### CORS errors
- Kiá»ƒm tra `CLIENT_URL` trong backend `.env`
- Äáº£m báº£o frontend Ä‘ang cháº¡y á»Ÿ Ä‘Ãºng port

### JWT token errors
- Kiá»ƒm tra `JWT_SECRET` trong `.env`
- XÃ³a token cÅ© trong localStorage vÃ  Ä‘Äƒng nháº­p láº¡i












